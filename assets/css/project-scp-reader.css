/* SCP Reader — project theme overrides
   Load after dev-tokens.css and dev-styles.css.
   Only semantic token overrides and layout under [data-project="scp-reader"].
   Page stays dark in both data-theme="dark" and data-theme="light". */

/* --- Theme: dark regardless of data-theme (single block) --- */
[data-project="scp-reader"] {
  /* Surfaces */
  --dp-bg-base: #141414;
  --dp-bg-raised: #1a1a1a;
  --dp-bg-card: #1e1e1e;
  --dp-glass-bg: rgba(255, 255, 255, 0.05);

  /* Text — all text stays light in both themes */
  --dp-text-primary: #ffffff;
  --dp-text-secondary: rgba(255, 255, 255, 0.85);
  --dp-text-tertiary: rgba(255, 255, 255, 0.64);
  --dp-text-ghost: rgba(255, 255, 255, 0.2);

  /* Hero heading gradient (dev-styles uses these for .dp-hero-line; light theme otherwise sets dark) */
  --dp-hero-line-from: rgba(255, 255, 255, 1);
  --dp-hero-line-to: rgba(255, 255, 255, 0.55);
  --dp-hero-accent-from: rgba(255, 255, 255, 0.95);
  --dp-hero-accent-to: rgba(255, 255, 255, 0.7);

  /* Gradient text utility (if used) */
  --dp-gradient-text-from: rgba(255, 255, 255, 0.95);
  --dp-gradient-text-to: rgba(255, 255, 255, 0.55);

  /* Card text (e.g. CTA card titles/descriptions) */
  --dp-card-text-primary: #ffffff;
  --dp-card-text-secondary: rgba(255, 255, 255, 0.85);

  /* Border (from strip tokens) */
  --dp-border-default: #303030;
  --dp-border-hover: rgba(255, 255, 255, 0.15);
  --dp-border-active: rgba(255, 255, 255, 0.25);

  /* Accent — vibrant red for interactive elements (strip orbs #791a1f for glow) */
  --dp-accent: #c62828;
  --dp-accent-hover: #e53935;
  --dp-accent-glow: rgba(198, 40, 40, 0.15);

  /* Glow colors — red / dark-red for section glows */
  --dp-glow-1: rgba(121, 26, 31, 0.25);
  --dp-glow-2: rgba(67, 20, 24, 0.2);
  --dp-glow-3: rgba(121, 26, 31, 0.15);

  /* Button — primary on dark (red bg, white text) */
  --dp-btn-bg-primary-on-dark: #c62828;
  --dp-btn-text-primary-on-dark: #ffffff;
  --dp-btn-hover-bg-primary-on-dark: #e53935;
  --dp-btn-focus-ring-on-dark: #e53935;

  /* Button — secondary on dark (outline) */
  --dp-btn-secondary-on-dark-border: rgba(255, 255, 255, 0.5);
  --dp-btn-secondary-on-dark-text: #ffffff;
  --dp-btn-secondary-on-dark-hover-bg: rgba(255, 255, 255, 0.1);
  --dp-btn-secondary-on-dark-focus-ring: #ffffff;
}

/* Focus rings — ensure 3:1+ contrast on #141414 (WCAG AAA non-text) */
[data-project="scp-reader"] .dp-nav-brand:focus-visible,
[data-project="scp-reader"] .dp-theme-toggle:focus-visible,
[data-project="scp-reader"] .dp-back-to-top:focus-visible {
  outline: 2px solid #ffffff;
  outline-offset: 2px;
}
[data-project="scp-reader"] .dp-footer-link:focus-visible {
  outline: 2px solid #ffffff;
  outline-offset: 2px;
}

/* Nav: back arrow (match Fair Share) */
[data-project="scp-reader"] .dp-nav-back {
  width: 32px;
  height: 32px;
  flex-shrink: 0;
}

/* Hero: SCP logo — force white (SVG has hardcoded stroke #000); red glow */
[data-project="scp-reader"] .dp-hero-logo {
  width: 56px;
  height: 56px;
  object-fit: contain;
  filter: brightness(0) invert(1) drop-shadow(0 0 12px rgba(198, 40, 40, 0.25));
}

/* Reading layout: single column 720px, section rhythm 120–160px */
[data-project="scp-reader"] .dp-page {
  max-width: 720px;
}
[data-project="scp-reader"] .dp-page section {
  padding-top: var(--dp-space-30);
  padding-bottom: var(--dp-space-30);
}
[data-project="scp-reader"] .dp-page section:first-of-type {
  padding-top: var(--dp-space-40);
}
[data-project="scp-reader"] .dp-page .dp-footer {
  padding-top: var(--dp-space-30);
  padding-bottom: var(--dp-space-20);
}

/* Section typography: headings stay light (override any theme token inheritance) */
[data-project="scp-reader"] .dp-page section h2,
[data-project="scp-reader"] .dp-page section h3 {
  color: #ffffff;
}
[data-project="scp-reader"] .dp-page section h2 {
  margin-bottom: var(--dp-space-4);
}
[data-project="scp-reader"] .dp-page section h3 {
  margin-top: var(--dp-space-8);
  margin-bottom: var(--dp-space-2);
}
[data-project="scp-reader"] .dp-page section h3:first-of-type {
  margin-top: var(--dp-space-6);
}
[data-project="scp-reader"] .dp-page section p {
  font-size: max(1rem, var(--dp-text-base));
  margin-bottom: var(--dp-space-4);
}
[data-project="scp-reader"] .dp-page section p:last-child {
  margin-bottom: 0;
}

/* Screenshot placeholder */
[data-project="scp-reader"] .dp-screenshot-placeholder {
  margin-top: var(--dp-space-16);
  margin-bottom: var(--dp-space-16);
}
[data-project="scp-reader"] .dp-screenshot-placeholder-inner {
  background: var(--dp-glass-bg);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 2px dashed var(--dp-border-default);
  border-radius: var(--dp-radius-md);
  display: flex;
  align-items: center;
  justify-content: center;
}
[data-project="scp-reader"] .dp-screenshot--desktop .dp-screenshot-placeholder-inner {
  aspect-ratio: 16 / 9;
  width: 100%;
}
[data-project="scp-reader"] .dp-screenshot--pair {
  display: flex;
  flex-direction: row;
  gap: var(--dp-space-6);
  align-items: flex-start;
}
[data-project="scp-reader"] .dp-screenshot--pair .dp-screenshot-placeholder-inner.dp-screenshot--desktop {
  flex: 2;
  aspect-ratio: 16 / 9;
  min-width: 0;
}
[data-project="scp-reader"] .dp-screenshot--pair .dp-screenshot-placeholder-inner.dp-screenshot--mobile {
  flex: 1;
  aspect-ratio: 9 / 16;
  min-width: 0;
}
@media (max-width: 639px) {
  [data-project="scp-reader"] .dp-screenshot--pair {
    flex-direction: column;
  }
  [data-project="scp-reader"] .dp-screenshot--pair .dp-screenshot-placeholder-inner.dp-screenshot--mobile {
    aspect-ratio: 16 / 9;
  }
}
[data-project="scp-reader"] .dp-screenshot-placeholder-label {
  font-size: var(--dp-text-xs);
  color: var(--dp-text-secondary);
  text-transform: uppercase;
  letter-spacing: var(--dp-tracking-wider);
}

/* Glow sections — SCP red palette (#791a1f, #431418); no overflow: clip so blur + glass CTA render fully */
[data-project="scp-reader"] .dp-glow-section {
  position: relative;
}
[data-project="scp-reader"] .dp-glow-section::before {
  content: '';
  position: absolute;
  top: -100px;
  left: 50%;
  transform: translateX(-50%);
  width: 600px;
  height: 400px;
  border-radius: 50%;
  pointer-events: none;
  z-index: -1;
  will-change: transform;
}
/* The Source Material (The World) — primary SCP red */
[data-project="scp-reader"] .dp-page section.dp-glow-section:nth-of-type(3)::before {
  background: rgba(121, 26, 31, 0.25);
  filter: blur(100px);
}
/* What's Next — darker red for variety */
[data-project="scp-reader"] .dp-page section.dp-glow-section:nth-of-type(6)::before {
  background: rgba(67, 20, 24, 0.2);
  filter: blur(100px);
}
@media (max-width: 639px) {
  [data-project="scp-reader"] .dp-glow-section::before {
    opacity: 0.6;
  }
}

/* What's Next CTA card */
[data-project="scp-reader"] .dp-cta-card {
  background: rgba(30, 30, 35, 0.92);
  border: 1px solid var(--dp-border-default);
  border-radius: var(--dp-radius-md);
  padding: var(--dp-space-8);
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--dp-space-6);
  margin-top: var(--dp-space-8);
}
[data-project="scp-reader"] .dp-cta-card p {
  color: var(--dp-text-secondary);
  max-width: 560px;
  margin: 0;
}
